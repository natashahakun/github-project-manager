(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a(51)},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(17),s=a.n(i),c=a(6),o=a(1),u=a(3),l=a(15),d=a(2),p=a.n(d),m=a(4),b=function(e){return function(t){t({type:"SET_ERROR",payload:e}),setTimeout(function(){return t({type:"SET_ERROR",payload:""})},5e3)}},E=function(e){return function(t){t({type:"SET_LOADING",payload:e})}},f=function(){var e=Object(m.a)(p.a.mark(function e(t,a){var n,r,i,s;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.github.com/".concat(t),(r=new Headers).append("Authorization","token ".concat(a)),e.next=5,fetch(n,{headers:r});case 5:return i=e.sent,e.next=8,i.json();case 8:if(s=e.sent,200===i.status){e.next=11;break}throw new Error(s.message);case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),_=a(5),h=new function e(){Object(_.a)(this,e),this.set=function(e){return sessionStorage.setItem("gh-api-key",e)},this.get=function(){return sessionStorage.getItem("gh-api-key")}},y=new function e(){var t=this;Object(_.a)(this,e),this.currentRepoName=null,this.set=function(e){var a=e.reduce(function(e,t){return e[t.id]=t.priority,e},{});sessionStorage.setItem("issues-priorities-".concat(t.currentRepoName),JSON.stringify(a))},this.get=function(e){return t.currentRepoName=e,sessionStorage.getItem("issues-priorities-".concat(e))}},v=function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a,n){var r,i,s;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n(),i=r.user,a({type:"GET_ISSUES_REQUEST"}),a(E(!0)),t.prev=3,t.next=6,f("repos/".concat(i.githubUsername,"/").concat(e,"/issues"),i.apiKey);case 6:s=t.sent,a({type:"GET_ISSUES_SUCCESS",payload:s}),a(E(!1)),a(O(e)),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(3),a({type:"GET_ISSUES_FAILURE"}),a(E(!1)),a(b("There was an error retrieving your issues. ".concat(t.t0)));case 17:case"end":return t.stop()}},t,null,[[3,12]])}));return function(e,a){return t.apply(this,arguments)}}()},S=function(e){return function(t){t({type:"INCREASE_PRIORITY",payload:{issueId:e}}),t(T())}},g=function(e){return function(t){t({type:"DECREASE_PRIORITY",payload:{issueId:e}}),t(T())}},O=function(e){return function(t){var a=JSON.parse(y.get(e));a&&(t({type:"GET_ISSUES_PRIORITIES",payload:{issuesPriorities:a}}),t(T()))}},T=function(){return function(e,t){var a=t().issues;y.set(a),e({type:"SET_ISSUES_PRIORITIES"})}},j=[],R=[],N={error:"",loading:!1},I=function(e){return function(){var t=Object(m.a)(p.a.mark(function t(a){var n;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"GET_USER_REQUEST"}),a(E(!0)),t.prev=2,t.next=5,f("user",e);case 5:n=t.sent,h.set(e),a({type:"GET_USER_SUCCESS",payload:{apiKey:e,githubUsername:n.login}}),a(E(!1)),a(function(){var e=Object(m.a)(p.a.mark(function e(t,a){var n,r,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a(),r=n.user,t({type:"GET_REPOS_REQUEST"}),t(E(!0)),e.prev=3,e.next=6,f("users/".concat(r.githubUsername,"/repos"),r.apiKey);case 6:i=e.sent,t({type:"GET_REPOS_SUCCESS",payload:i}),t(E(!1)),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(3),t({type:"GET_REPOS_FAILURE"}),t(E(!1)),t(b("There was an error retrieving your repositories. ".concat(e.t0)));case 16:case"end":return e.stop()}},e,null,[[3,11]])}));return function(t,a){return e.apply(this,arguments)}}()),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(2),a({type:"GET_USER_FAILURE"}),a(E(!1)),a(b("There was an error retrieving your information. ".concat(t.t0)));case 17:case"end":return t.stop()}},t,null,[[2,12]])}));return function(e){return t.apply(this,arguments)}}()},w={},U=Object(o.c)({issues:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ISSUES_REQUEST":return Object(l.a)(e);case"GET_ISSUES_SUCCESS":return t.payload.map(function(e,t){return Object(u.a)({},e,{priority:t+1})});case"GET_ISSUES_FAILURE":return Object(l.a)(e);case"INCREASE_PRIORITY":var a=e.find(function(e){return e.id===t.payload.issueId}),n=e.find(function(e){return e.priority===a.priority-1});return e.map(function(e){return e.id===a.id?Object(u.a)({},e,{priority:e.priority-1}):e.id===n.id?Object(u.a)({},e,{priority:e.priority+1}):e});case"DECREASE_PRIORITY":var r=e.find(function(e){return e.id===t.payload.issueId}),i=e.find(function(e){return e.priority===r.priority+1});return e.map(function(e){return e.id===r.id?Object(u.a)({},e,{priority:e.priority+1}):e.id===i.id?Object(u.a)({},e,{priority:e.priority-1}):e});case"GET_ISSUES_PRIORITIES":var s=t.payload.issuesPriorities;return e.map(function(e){return s[e.id]?Object(u.a)({},e,{priority:s[e.id]}):e});default:return e}},repos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_REPOS_REQUEST":return Object(l.a)(e);case"GET_REPOS_SUCCESS":return t.payload.map(function(e){return{id:e.id,name:e.name}});case"GET_REPOS_FAILURE":return Object(l.a)(e);default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERROR":return Object(u.a)({},e,{error:t.payload});case"SET_LOADING":return Object(u.a)({},e,{loading:t.payload});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USER_REQUEST":return Object(u.a)({},e);case"GET_USER_SUCCESS":return Object(u.a)({},e,t.payload);case"GET_USER_FAILURE":return Object(u.a)({},e);default:return e}}}),k=a(27),C=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d;a(39);var x=a(9),G=a(14),P=a(10),A=a(13),L=a(11),D=a(12),F=a.n(D),K=(a(40),function(e){var t=e.accessibleText,a=e.buttonType,n=e.children,i=e.selected,s=e.type,c=Object(L.a)(e,["accessibleText","buttonType","children","selected","type"]);return r.a.createElement("button",Object.assign({className:F()("button",{"button--primary":"primary"===a,"button--secondary":"secondary"===a,"button--icon":"icon"===a,"button--selected":i}),type:s},c),"icon"===a&&r.a.createElement("span",{className:"accessible-text"},t),n)});K.defaultProps={accessibleText:"",buttonType:"primary",selected:!1,type:"button"};var M=K,Y=(a(41),function(e){var t=e.children;return r.a.createElement("h1",{className:"heading"},t)}),Q=(a(42),function(e){function t(){var e,a;Object(_.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(G.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(r)))).state={focused:!1},a.setLabelTop=function(){return a.state.focused||""!==a.props.value},a}return Object(A.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.label,n=t.handleOnChange,i=t.id,s=t.name,c=t.value,o=t.type,u=Object(L.a)(t,["label","handleOnChange","id","name","value","type"]);return r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("label",{className:F()("input-wrapper__label",{"input-wrapper__label--top":this.setLabelTop()}),htmlFor:i},a),r.a.createElement("input",Object.assign({className:"input-wrapper__input",id:i,name:s||i,onChange:n,onFocus:function(){return e.setState({focused:!0})},onBlur:function(){return e.setState({focused:!1})},type:o,value:c},u)))}}]),t}(n.Component));Q.defaultProps={name:"",type:"text",value:""};var H=Q,J=a(22),B=a.n(J),X=a(23),z=function(e){return e.issues},V=function(e,t){return e.priority-t.priority},q=Object(X.a)(z,function(e){return e.sort(V)}),W=Object(X.a)(z,function(e){return e.length>0}),Z=(a(44),Object(c.b)(function(e){return{issues:q(e)}},function(e){return Object(o.b)({decreasePriority:g,increasePriority:S},e)})(function(e){var t=e.decreasePriority,a=e.increasePriority,n=e.issues;return r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"table__head"},r.a.createElement("tr",{className:"table__row"},r.a.createElement("th",{className:"table__data-standard table__data-assignee"},"Assignee"),r.a.createElement("th",{className:"table__data-wide"},"Title"),r.a.createElement("th",{className:"table__data-standard table__data-created"},"Created"),r.a.createElement("th",{className:"table__data-standard table__data-updated"},"Last Updated"),r.a.createElement("th",{className:"table__data-standard table__data-priority"},"Priority"))),r.a.createElement("tbody",null,n.map(function(e){return r.a.createElement("tr",{className:"table__row",key:e.id},r.a.createElement("td",{className:"table__data-standard table__data-assignee"},e.assignee?r.a.createElement("img",{className:"table__image",src:e.assignee.avatar_url,alt:"avatar"}):"None"),r.a.createElement("td",{className:"table__data-wide"},e.title),r.a.createElement("td",{className:"table__data-standard table__data-created"},B()(e.created_at).format("MM/DD/YYYY")),r.a.createElement("td",{className:"table__data-standard table__data-updated"},B()(e.updated_at).fromNow()),r.a.createElement("td",{className:"table__data-standard table__data-priority"},r.a.createElement(M,{accessibleText:"Increase priority",buttonType:"icon",disabled:1===e.priority,onClick:function(){return a(e.id)}},"+"),r.a.createElement(M,{accessibleText:"Decrease priority",buttonType:"icon",disabled:e.priority===n.length,onClick:function(){return t(e.id)}},"-")))})))})),$=(a(45),function(e){var t=e.children;return r.a.createElement("div",{className:"link-wrapper"},t)}),ee=(a(46),function(){return r.a.createElement("div",{className:"loading-indicator"},r.a.createElement("div",{className:"loading-indicator__spinner-container"},r.a.createElement("div",{className:"loading-indicator__spinner"})))}),te=(a(47),function(e){function t(){var e,a;Object(_.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(G.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(r)))).state={apiKey:""},a.handleSubmit=function(e){e.preventDefault(),a.props.getUser(a.state.apiKey)},a}return Object(A.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this,t=this.state.apiKey;return r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"login__body"},r.a.createElement(Y,null,"Login"),r.a.createElement("p",{className:"login__text"},"Enter GitHub token to access your GitHub Project Manager"),r.a.createElement("form",{className:"login__form",onSubmit:this.handleSubmit},r.a.createElement(H,{id:"apiKey",label:"GitHub Token",name:"apiKey",value:t,type:"text",handleOnChange:function(t){e.setState({apiKey:t.target.value})}}),r.a.createElement("div",{className:"login__action"},r.a.createElement(M,{type:"submit",buttonType:"primary"},"Login"))),r.a.createElement($,null,r.a.createElement("a",{href:"https://help.github.com/en/enterprise/2.17/user/articles/creating-a-personal-access-token-for-the-command-line",target:"_blank",rel:"noopener noreferrer"},"Find out how to obtain a GitHub personal access token"))))}}]),t}(n.Component)),ae=Object(c.b)(null,function(e){return Object(o.b)({getUser:I},e)})(te),ne=(a(48),function(e){var t=e.handleOnChange,a=e.label,n=e.options,i=e.value;return r.a.createElement("select",{className:"native-select",value:i,onChange:t},r.a.createElement("option",{value:"",disabled:i},a),n.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))}),re=(a(49),function(e){var t=e.children;return r.a.createElement("div",{className:"notification"},t)}),ie=a(28),se=(a(50),Object(c.b)(function(e){var t=e.repos,a=Object(L.a)(e,["repos"]);return{hasIssues:W(a),repos:t}},function(e){return Object(o.b)({getIssues:v},e)})(function(e){var t=e.getIssues,a=e.hasIssues,i=e.repos,s=Object(n.useState)(null),c=Object(ie.a)(s,2),o=c[0],u=c[1];return r.a.createElement("section",{className:F()("dashboard",{"dashboard--center":!o,"dashboard--left":o})},r.a.createElement("div",{className:"dashboard__repos-wrapper"},r.a.createElement(Y,null,"Repositories"),r.a.createElement("div",{className:"dashboard__select-wrapper"},r.a.createElement(ne,{label:"repos",options:i,value:o||0,handleOnChange:function(e){var a=parseInt(e.target.value);u(a),t(i.find(function(e){return e.id===a}).name)}})),r.a.createElement("div",{className:"dashboard__repos"},i.map(function(e,a){return r.a.createElement("div",{className:"dashboard__repos-button",style:{animationDuration:"".concat(.25*a,"s")},key:e.id},r.a.createElement(M,{buttonType:"secondary",selected:o===e.id,type:"button",onClick:function(){u(e.id),t(e.name)}},e.name))}))),r.a.createElement("div",{className:"dashboard__issues"},o&&!a&&r.a.createElement("h2",{className:"dashboard__issues-heading"},"No issues found"),a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"dashboard__issues-heading"},"Issues"),r.a.createElement(Z,null))))})),ce=function(e){function t(){var e,a;Object(_.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(G.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(r)))).state={checkedExisting:!1},a}return Object(A.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.get(),e.t0=t,!e.t0){e.next=5;break}return e.next=5,this.props.getUser(t);case 5:this.setState({checkedExisting:!0});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.errorMessage,a=e.isLoading,n=e.user,i=this.state.checkedExisting;return r.a.createElement("div",null,t&&r.a.createElement(re,null,t),a&&r.a.createElement(ee,null),n&&r.a.createElement(se,null),!n&&i&&r.a.createElement(ae,null))}}]),t}(n.Component);ce.defaultProps={errorMessage:"",user:""};var oe=Object(c.b)(function(e){var t=e.ui,a=e.user;return{errorMessage:t.error,isLoading:t.loading,user:a.githubUsername}},function(e){return Object(o.b)({getUser:I},e)})(ce);s.a.render(r.a.createElement(c.a,{store:Object(o.e)(U,C(Object(o.a)(k.a)))},r.a.createElement(oe,null)),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.d0a7e0d0.chunk.js.map